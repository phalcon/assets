class themeSwitcher{constructor(){let e=document.documentElement,t=localStorage.getItem("mode")||"auto",a=()=>matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=t=>{let s="auto"===t?a():t;e.style.colorScheme="auto"===t?"light dark":s,e.classList.remove("light","dark"),e.classList.add(`${s}`),localStorage.setItem("mode",t),document.querySelectorAll("[data-mode]").forEach(e=>e.classList.toggle("active",e.dataset.mode===t)),this.updateSwitcherClass()};this.updateSwitcherClass=()=>{let e=document.querySelectorAll(".switcher");if(e.length>0){let t=localStorage.getItem("mode")||"auto",s=a(),r="auto"===t?s:t;e.forEach(e=>{e.classList.remove("switcher-light","switcher-dark"),e.classList.add(`switcher-${r}`)})}},this.handleswitcherClick=()=>{let e=localStorage.getItem("mode")||"auto",t=a(),r;s(r="auto"===e?"light"===t?"dark":"light":"auto")},matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{"auto"===localStorage.getItem("mode")&&s("auto")}),document.addEventListener("click",e=>{e.target.dataset.mode&&s(e.target.dataset.mode)}),document.querySelectorAll(".switcher").forEach(e=>{e.addEventListener("click",this.handleswitcherClick)}),s(t)}}new themeSwitcher;